<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1053px" preserveAspectRatio="none" style="width:1548px;height:1053px;background:#FFFFFF;" version="1.1" viewBox="0 0 1548 1053" width="1548px" zoomAndPan="magnify"><defs><filter height="300%" id="fj226fokwa5gu" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fj226fokwa5gu)" height="918.8359" style="stroke:#A80036;stroke-width:1.0;" width="10" x="269" y="109.1797"/><rect fill="#FFFFFF" filter="url(#fj226fokwa5gu)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="387" y="139.5313"/><rect fill="#FFFFFF" filter="url(#fj226fokwa5gu)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="493" y="169.8828"/><rect fill="#FFFFFF" filter="url(#fj226fokwa5gu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="939" y="506.4219"/><rect fill="#FFFFFF" filter="url(#fj226fokwa5gu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1180.5" y="755.7813"/><rect fill="#FFFFFF" filter="url(#fj226fokwa5gu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1455.5" y="930.3125"/><rect fill="#FFFFFF" filter="url(#fj226fokwa5gu)" height="447.2422" style="stroke:#000000;stroke-width:2.0;" width="1531" x="3" y="551.4219"/><rect fill="#FFFFFF" height="174.5313" style="stroke:none;stroke-width:1.0;" width="1531" x="3" y="824.1328"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="274" x2="274" y1="76.8281" y2="1046.0156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="392" x2="392" y1="76.8281" y2="1046.0156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="498" x2="498" y1="76.8281" y2="1046.0156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="624" x2="624" y1="289.5" y2="1046.0156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="782" x2="782" y1="371.3281" y2="1046.0156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="944" x2="944" y1="453.1563" y2="1046.0156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1068" x2="1068" y1="76.8281" y2="1046.0156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1185" x2="1185" y1="620.6875" y2="1046.0156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1323" x2="1323" y1="702.5156" y2="1046.0156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1460" x2="1460" y1="877.0469" y2="1046.0156"/><rect fill="#FEFECE" filter="url(#fj226fokwa5gu)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="116" x="214" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="228" y="44.1426">&lt;&lt;grammar&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="221" y="61.752">ScriptAlgorithms</text><rect fill="#FEFECE" filter="url(#fj226fokwa5gu)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="92" x="344" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="351" y="44.1426">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="358" y="61.752">Response</text><rect fill="#FEFECE" filter="url(#fj226fokwa5gu)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="92" x="450" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="457" y="44.1426">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="479.5" y="61.752">Form</text><rect fill="#FEFECE" filter="url(#fj226fokwa5gu)" height="66.8281" style="stroke:#A80036;stroke-width:1.5;" width="81" x="1026" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1036.5" y="26.5332">&lt;&lt;antlr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="1054" y="44.1426">tree</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="1033" y="61.752">ParseTree</text><rect fill="#FFFFFF" filter="url(#fj226fokwa5gu)" height="918.8359" style="stroke:#A80036;stroke-width:1.0;" width="10" x="269" y="109.1797"/><rect fill="#FFFFFF" filter="url(#fj226fokwa5gu)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="387" y="139.5313"/><rect fill="#FFFFFF" filter="url(#fj226fokwa5gu)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="493" y="169.8828"/><rect fill="#FFFFFF" filter="url(#fj226fokwa5gu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="939" y="506.4219"/><rect fill="#FFFFFF" filter="url(#fj226fokwa5gu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1180.5" y="755.7813"/><rect fill="#FFFFFF" filter="url(#fj226fokwa5gu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1455.5" y="930.3125"/><ellipse cx="7.5" cy="108.4297" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="257,105.1797,267,109.1797,257,113.1797,261,109.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="12" x2="263" y1="109.1797" y2="109.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="15" y="104.3232">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="26" y="104.3232">executeValidateForm(response, mode)</text><polygon fill="#A80036" points="375,135.5313,385,139.5313,375,143.5313,379,139.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="279" x2="381" y1="139.5313" y2="139.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="286" y="134.6748">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="297" y="134.6748">getForm()</text><polygon fill="#A80036" points="481,165.8828,491,169.8828,481,173.8828,485,169.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="397" x2="487" y1="169.8828" y2="169.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="404" y="165.0264">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="415" y="165.0264">script()</text><polygon fill="#A80036" points="408,196.2344,398,200.2344,408,204.2344,404,200.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="402" x2="497" y1="200.2344" y2="200.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="414" y="195.3779">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="425" y="195.3779">script</text><polygon fill="#A80036" points="290,226.5859,280,230.5859,290,234.5859,286,230.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="284" x2="391" y1="230.5859" y2="230.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="296" y="225.7295">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="307" y="225.7295">script</text><polygon fill="#A80036" points="544,256.9375,554,260.9375,544,264.9375,548,260.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="279" x2="550" y1="260.9375" y2="260.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="286" y="256.0811">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="297" y="256.0811">create(script)</text><rect fill="#FEFECE" filter="url(#fj226fokwa5gu)" height="66.8281" style="stroke:#A80036;stroke-width:1.5;" width="133" x="556" y="238.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="568" y="260.1191">&lt;&lt;validateform&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="607.5" y="277.7285">lexer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="563" y="295.3379">ValidateFormLexer</text><polygon fill="#A80036" points="691,338.7656,701,342.7656,691,346.7656,695,342.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="279" x2="697" y1="342.7656" y2="342.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="286" y="337.9092">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="297" y="337.9092">create(lexer)</text><rect fill="#FEFECE" filter="url(#fj226fokwa5gu)" height="66.8281" style="stroke:#A80036;stroke-width:1.5;" width="155" x="703" y="320.4141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="750.5" y="341.9473">&lt;&lt;antlr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="759.5" y="359.5566">tokens</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="710" y="377.166">CommonTokenStream</text><polygon fill="#A80036" points="860,420.5938,870,424.5938,860,428.5938,864,424.5938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="279" x2="866" y1="424.5938" y2="424.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="286" y="419.7373">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="297" y="419.7373">create(tokens)</text><rect fill="#FEFECE" filter="url(#fj226fokwa5gu)" height="66.8281" style="stroke:#A80036;stroke-width:1.5;" width="140" x="872" y="402.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="887.5" y="423.7754">&lt;&lt;validateform&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="921.5" y="441.3848">parser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="879" y="458.9941">ValidateFormParser</text><polygon fill="#A80036" points="927,502.4219,937,506.4219,927,510.4219,931,506.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="279" x2="933" y1="506.4219" y2="506.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="286" y="501.5654">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="297" y="501.5654">tree = start()</text><path d="M3,551.4219 L64,551.4219 L64,559.4219 L54,569.4219 L3,569.4219 L3,551.4219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="447.2422" style="stroke:#000000;stroke-width:2.0;" width="1531" x="3" y="551.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="18" y="565.917">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="130" x="79" y="564.8408">[if the mode is listener]</text><polygon fill="#A80036" points="1109,588.125,1119,592.125,1109,596.125,1113,592.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="279" x2="1115" y1="592.125" y2="592.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="286" y="587.2686">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="304" y="587.2686">create()</text><rect fill="#FEFECE" filter="url(#fj226fokwa5gu)" height="66.8281" style="stroke:#A80036;stroke-width:1.5;" width="125" x="1121" y="569.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1153.5" y="591.3066">&lt;&lt;antlr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="1163.5" y="608.916">walker</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1128" y="626.5254">ParseTreeWalker</text><polygon fill="#A80036" points="1248,669.9531,1258,673.9531,1248,677.9531,1252,673.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="279" x2="1254" y1="673.9531" y2="673.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="286" y="669.0967">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="304" y="669.0967">create(response)</text><rect fill="#FEFECE" filter="url(#fj226fokwa5gu)" height="66.8281" style="stroke:#A80036;stroke-width:1.5;" width="123" x="1260" y="651.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1267" y="673.1348">&lt;&lt;validateform&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="1298.5" y="690.7441">listener</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1279.5" y="708.3535">FormListener</text><polygon fill="#A80036" points="1168.5,751.7813,1178.5,755.7813,1168.5,759.7813,1172.5,755.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="279" x2="1174.5" y1="755.7813" y2="755.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="286" y="750.9248">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="304" y="750.9248">flag = walk(listener, tree)</text><polygon fill="#A80036" points="11,812.1328,1,816.1328,11,820.1328,7,816.1328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="5" x2="268" y1="816.1328" y2="816.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="811.2764">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="35" y="811.2764">flag</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3" x2="1534" y1="825.1328" y2="825.1328"/><polygon fill="#A80036" points="1385,844.4844,1395,848.4844,1385,852.4844,1389,848.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="279" x2="1391" y1="848.4844" y2="848.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="286" y="843.6279">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="304" y="843.6279">create(response)</text><rect fill="#FEFECE" filter="url(#fj226fokwa5gu)" height="66.8281" style="stroke:#A80036;stroke-width:1.5;" width="123" x="1397" y="826.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1404" y="847.666">&lt;&lt;validateform&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="1440" y="865.2754">visitor</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="1422.5" y="882.8848">FormVisitor</text><polygon fill="#A80036" points="1443.5,926.3125,1453.5,930.3125,1443.5,934.3125,1447.5,930.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="279" x2="1449.5" y1="930.3125" y2="930.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="286" y="925.4561">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="304" y="925.4561">flag = visit(tree)</text><polygon fill="#A80036" points="11,986.6641,1,990.6641,11,994.6641,7,990.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="5" x2="268" y1="990.6641" y2="990.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="985.8076">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="35" y="985.8076">flag</text><polygon fill="#A80036" points="11,1024.0156,1,1028.0156,11,1032.0156,7,1028.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="5" x2="273" y1="1028.0156" y2="1028.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="1023.1592">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="35" y="1023.1592">false</text><!--MD5=[14c88f9e716a1f0eb9c4af996081018a]
@startuml
autonumber
hide footbox

participant "<<grammar>>\nScriptAlgorithms" as SA
participant "<<domain>>\nResponse" as RS
participant "<<domain>>\nForm" as F
participant "<<validateform>>\nlexer\nValidateFormLexer" as VFL
participant "<<antlr>>\ntokens\nCommonTokenStream" as CTS
participant "<<validateform>>\nparser\nValidateFormParser" as VFP
participant "<<antlr>>\ntree\nParseTree" as PT
participant "<<antlr>>\nwalker\nParseTreeWalker" as PTW
participant "<<validateform>>\nlistener\nFormListener" as FL
participant "<<validateform>>\nvisitor\nFormVisitor" as FV

[o-> SA : executeValidateForm(response, mode)
activate SA

SA -> RS : getForm()
activate RS

RS -> F : script()
activate F

F - -> RS : script
deactivate F

RS - -> SA : script
deactivate RS

SA -> VFL** : create(script)

SA -> CTS** : create(lexer)

SA -> VFP** : create(tokens)

SA -> VFP : tree = start()
activate VFP
deactivate VFP

alt if the mode is listener

SA -> PTW** : create()
SA -> FL** : create(response)

SA -> PTW : flag = walk(listener, tree)
activate PTW
deactivate PTW

<- SA : flag

else

SA -> FV** : create(response)

SA -> FV : flag = visit(tree)
activate FV
deactivate FV

<- SA : flag

end

<- SA : false
deactivate SA

@enduml

PlantUML version 1.2021.7(Sun May 23 13:40:07 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>