<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1170px" preserveAspectRatio="none" style="width:802px;height:1170px;" version="1.1" viewBox="0 0 802 1170" width="802px" zoomAndPan="magnify"><defs><filter height="300%" id="f19jiocra7jxdv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="1053.9531" style="stroke:#A80036;stroke-width:1.0;" width="10" x="129.5" y="91.5703"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="78.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="229.4922"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="363.25"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="78.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="423.6016"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="566.3594"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="652.0625"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="78.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="719.4141"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="78.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="843.6563"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="78.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="959.0625"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="78.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="1067.4688"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="189.1094" style="stroke:#000000;stroke-width:2.0;" width="643.5" x="20" y="322.5469"/><rect fill="#FFFFFF" height="2" style="stroke:none;stroke-width:1.0;" width="643.5" x="20" y="509.6563"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="404.0547" style="stroke:#000000;stroke-width:2.0;" width="663.5" x="10" y="525.6563"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="78.7031" style="stroke:#000000;stroke-width:2.0;" width="643.5" x="20" y="611.3594"/><rect fill="#FFFFFF" height="124.2422" style="stroke:none;stroke-width:1.0;" width="663.5" x="10" y="805.4688"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="134" x2="134" y1="59.2188" y2="1163.5234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="534.5" x2="534.5" y1="141.6797" y2="1163.5234"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="727.5" x2="727.5" y1="59.2188" y2="1163.5234"/><rect fill="#FEFECE" filter="url(#f19jiocra7jxdv)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="205" x="30" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="78.5" y="26.5332">&lt;&lt;boostrapers&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="37" y="44.1426">ServiceDraftTaskBootstrapper</text><rect fill="#FEFECE" filter="url(#f19jiocra7jxdv)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="125" x="663.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="687" y="26.5332">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="670.5" y="44.1426">draft:ServiceDraft</text><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="1053.9531" style="stroke:#A80036;stroke-width:1.0;" width="10" x="129.5" y="91.5703"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="78.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="229.4922"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="363.25"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="78.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="423.6016"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="566.3594"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="652.0625"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="78.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="719.4141"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="78.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="843.6563"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="78.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="959.0625"/><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="78.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="529.5" y="1067.4688"/><ellipse cx="7.5" cy="90.8203" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="117.5,87.5703,127.5,91.5703,117.5,95.5703,121.5,91.5703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="12" x2="123.5" y1="91.5703" y2="91.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="15" y="86.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="26" y="86.7139">execute</text><polygon fill="#A80036" points="403.5,117.9219,413.5,121.9219,403.5,125.9219,407.5,121.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="139.5" x2="409.5" y1="121.9219" y2="121.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="146.5" y="117.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="157.5" y="117.0654">create()</text><rect fill="#FEFECE" filter="url(#f19jiocra7jxdv)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="234" x="415.5" y="99.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="486.5" y="121.1035">&lt;&lt;aplication&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220" x="422.5" y="138.7129">ServiceDraftSpecificationController</text><line style="stroke:#A80036;stroke-width:1.0;" x1="139.5" x2="181.5" y1="186.1406" y2="186.1406"/><line style="stroke:#A80036;stroke-width:1.0;" x1="181.5" x2="181.5" y1="186.1406" y2="199.1406"/><line style="stroke:#A80036;stroke-width:1.0;" x1="140.5" x2="181.5" y1="199.1406" y2="199.1406"/><polygon fill="#A80036" points="150.5,195.1406,140.5,199.1406,150.5,203.1406,146.5,199.1406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="146.5" y="181.2842">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="157.5" y="181.2842">draftTask(approvalFlag)</text><polygon fill="#A80036" points="517.5,225.4922,527.5,229.4922,517.5,233.4922,521.5,229.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="139.5" x2="523.5" y1="229.4922" y2="229.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="146.5" y="224.6357">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="157.5" y="224.6357">newDraft()</text><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="42.7031" style="stroke:#000000;stroke-width:2.0;" width="309" x="412.5" y="237.4922"/><polygon fill="#EEEEEE" points="412.5,237.4922,474.5,237.4922,474.5,245.4922,464.5,255.4922,412.5,255.4922,412.5,237.4922" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="425.5" y="252.9873">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="418.5" y="272.9873">Code Sequence similar to US-1-2002_SD_DraftTask</text><polygon fill="#A80036" points="150.5,303.5469,140.5,307.5469,150.5,311.5469,146.5,307.5469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="144.5" x2="533.5" y1="307.5469" y2="307.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="156.5" y="302.6904">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="167.5" y="302.6904">draft</text><path d="M20,322.5469 L81,322.5469 L81,330.5469 L71,340.5469 L20,340.5469 L20,322.5469 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="189.1094" style="stroke:#000000;stroke-width:2.0;" width="643.5" x="20" y="322.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="337.042">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="296" x="96" y="335.9658">[if the user wants to add an approval task to the draft]</text><polygon fill="#A80036" points="517.5,359.25,527.5,363.25,517.5,367.25,521.5,363.25" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="139.5" x2="523.5" y1="363.25" y2="363.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="146.5" y="358.3936">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="157.5" y="358.3936">addApprovalTask(description)</text><polygon fill="#A80036" points="517.5,419.6016,527.5,423.6016,517.5,427.6016,521.5,423.6016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="139.5" x2="523.5" y1="423.6016" y2="423.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="146.5" y="418.7451">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="157.5" y="418.7451">saveApprovalTask()</text><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="42.7031" style="stroke:#000000;stroke-width:2.0;" width="309" x="412.5" y="431.6016"/><polygon fill="#EEEEEE" points="412.5,431.6016,474.5,431.6016,474.5,439.6016,464.5,449.6016,412.5,449.6016,412.5,431.6016" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="425.5" y="447.0967">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="418.5" y="467.0967">Code Sequence similar to US-1-2002_SD_DraftTask</text><polygon fill="#A80036" points="150.5,497.6563,140.5,501.6563,150.5,505.6563,146.5,501.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="144.5" x2="533.5" y1="501.6563" y2="501.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="156.5" y="496.7998">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="167.5" y="496.7998">task</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="663.5" y1="510.6563" y2="510.6563"/><path d="M10,525.6563 L71,525.6563 L71,533.6563 L61,543.6563 L10,543.6563 L10,525.6563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="404.0547" style="stroke:#000000;stroke-width:2.0;" width="663.5" x="10" y="525.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="540.1514">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="235" x="86" y="539.0752">[if the user pretends to add a manual task]</text><polygon fill="#A80036" points="517.5,562.3594,527.5,566.3594,517.5,570.3594,521.5,566.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="139.5" x2="523.5" y1="566.3594" y2="566.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="146.5" y="561.5029">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="157.5" y="561.5029">addForm(serviceDraft, formName, formType)</text><path d="M20,611.3594 L93,611.3594 L93,619.3594 L83,629.3594 L20,629.3594 L20,611.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="78.7031" style="stroke:#000000;stroke-width:2.0;" width="643.5" x="20" y="611.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="35" y="625.8545">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="193" x="108" y="624.7783">[until there are no more attributes]</text><polygon fill="#A80036" points="517.5,648.0625,527.5,652.0625,517.5,656.0625,521.5,652.0625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="139.5" x2="523.5" y1="652.0625" y2="652.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="146.5" y="647.2061">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="353" x="164.5" y="647.2061">addAttribute(name, label, description, regex, scrip, dataType)</text><polygon fill="#A80036" points="517.5,715.4141,527.5,719.4141,517.5,723.4141,521.5,719.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="139.5" x2="523.5" y1="719.4141" y2="719.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="146.5" y="714.5576">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="164.5" y="714.5576">newManualTask(description, form)</text><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="42.7031" style="stroke:#000000;stroke-width:2.0;" width="309" x="412.5" y="727.4141"/><polygon fill="#EEEEEE" points="412.5,727.4141,474.5,727.4141,474.5,735.4141,464.5,745.4141,412.5,745.4141,412.5,727.4141" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="425.5" y="742.9092">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="418.5" y="762.9092">Code Sequence similar to US-1-2002_SD_DraftTask</text><polygon fill="#A80036" points="150.5,793.4688,140.5,797.4688,150.5,801.4688,146.5,797.4688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="144.5" x2="533.5" y1="797.4688" y2="797.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="156.5" y="792.6123">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="174.5" y="792.6123">manualTak</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="673.5" y1="806.4688" y2="806.4688"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="256" x="15" y="817.8877">[if the user pretends to add an automatic task]</text><polygon fill="#A80036" points="517.5,839.6563,527.5,843.6563,517.5,847.6563,521.5,843.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="139.5" x2="523.5" y1="843.6563" y2="843.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="146.5" y="838.7998">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="164.5" y="838.7998">newAutoTask(description, scriptPath)</text><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="42.7031" style="stroke:#000000;stroke-width:2.0;" width="309" x="412.5" y="851.6563"/><polygon fill="#EEEEEE" points="412.5,851.6563,474.5,851.6563,474.5,859.6563,464.5,869.6563,412.5,869.6563,412.5,851.6563" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="425.5" y="867.1514">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="418.5" y="887.1514">Code Sequence similar to US-1-2002_SD_DraftTask</text><polygon fill="#A80036" points="150.5,917.7109,140.5,921.7109,150.5,925.7109,146.5,921.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="144.5" x2="533.5" y1="921.7109" y2="921.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="156.5" y="916.8545">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="174.5" y="916.8545">autoTask</text><polygon fill="#A80036" points="517.5,955.0625,527.5,959.0625,517.5,963.0625,521.5,959.0625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="139.5" x2="523.5" y1="959.0625" y2="959.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="146.5" y="954.2061">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="164.5" y="954.2061">addTaskToDraft()</text><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="42.7031" style="stroke:#000000;stroke-width:2.0;" width="309" x="412.5" y="967.0625"/><polygon fill="#EEEEEE" points="412.5,967.0625,474.5,967.0625,474.5,975.0625,464.5,985.0625,412.5,985.0625,412.5,967.0625" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="425.5" y="982.5576">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="418.5" y="1002.5576">Code Sequence similar to US-1-2002_SD_DraftTask</text><polygon fill="#A80036" points="150.5,1033.1172,140.5,1037.1172,150.5,1041.1172,146.5,1037.1172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="144.5" x2="533.5" y1="1037.1172" y2="1037.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="156.5" y="1032.2607">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="174.5" y="1032.2607">draft</text><polygon fill="#A80036" points="517.5,1063.4688,527.5,1067.4688,517.5,1071.4688,521.5,1067.4688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="139.5" x2="523.5" y1="1067.4688" y2="1067.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="146.5" y="1062.6123">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="164.5" y="1062.6123">saveServiceDraft()</text><rect fill="#FFFFFF" filter="url(#f19jiocra7jxdv)" height="42.7031" style="stroke:#000000;stroke-width:2.0;" width="309" x="412.5" y="1075.4688"/><polygon fill="#EEEEEE" points="412.5,1075.4688,474.5,1075.4688,474.5,1083.4688,464.5,1093.4688,412.5,1093.4688,412.5,1075.4688" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="425.5" y="1090.9639">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="418.5" y="1110.9639">Code Sequence similar to US-1-2002_SD_DraftTask</text><polygon fill="#A80036" points="145.5,1141.5234,135.5,1145.5234,145.5,1149.5234,141.5,1145.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="139.5" x2="533.5" y1="1145.5234" y2="1145.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="151.5" y="1140.667">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="169.5" y="1140.667">draft</text><!--MD5=[86857f5c7dc8776e4da86366fe74f888]
@startuml
autonumber
hide footbox

participant "<<boostrapers>>\nServiceDraftTaskBootstrapper" as BOOT
participant "<<aplication>>\nServiceDraftSpecificationController" as CTRL
participant "<<domain>>\ndraft:ServiceDraft" as SER

[o-> BOOT : execute

activate BOOT
BOOT -> CTRL** : create()

BOOT -> BOOT : draftTask(approvalFlag)

BOOT -> CTRL : newDraft()
activate CTRL
ref over CTRL
Code Sequence similar to US-1-2002_SD_DraftTask
end ref
CTRL - -> BOOT : draft
deactivate CTRL

alt if the user wants to add an approval task to the draft
BOOT -> CTRL : addApprovalTask(description)
activate CTRL
deactivate CTRL


BOOT -> CTRL : saveApprovalTask()
activate CTRL
ref over CTRL
Code Sequence similar to US-1-2002_SD_DraftTask
end ref
CTRL - -> BOOT : task
deactivate CTRL
else
deactivate CTRL
end

alt if the user pretends to add a manual task

BOOT -> CTRL : addForm(serviceDraft, formName, formType)
activate CTRL
deactivate CTRL

loop until there are no more attributes
BOOT -> CTRL : addAttribute(name, label, description, regex, scrip, dataType)
activate CTRL
deactivate CTRL
end

BOOT -> CTRL : newManualTask(description, form)
activate CTRL
ref over CTRL
Code Sequence similar to US-1-2002_SD_DraftTask
end ref
CTRL - -> BOOT : manualTak
deactivate CTRL

else if the user pretends to add an automatic task
BOOT -> CTRL : newAutoTask(description, scriptPath)
activate CTRL
ref over CTRL
Code Sequence similar to US-1-2002_SD_DraftTask
end ref
CTRL - -> BOOT : autoTask
deactivate CTRL
end

BOOT -> CTRL : addTaskToDraft()
activate CTRL
ref over CTRL
Code Sequence similar to US-1-2002_SD_DraftTask
end ref
CTRL - -> BOOT : draft
deactivate CTRL

BOOT -> CTRL : saveServiceDraft()
activate CTRL
ref over CTRL
Code Sequence similar to US-1-2002_SD_DraftTask
end ref
CTRL - -> BOOT : draft
deactivate CTRL
deactivate BOOT

@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>