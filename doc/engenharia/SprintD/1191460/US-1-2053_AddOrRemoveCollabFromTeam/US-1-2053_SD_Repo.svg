<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="511px" preserveAspectRatio="none" style="width:697px;height:511px;" version="1.1" viewBox="0 0 697 511" width="697px" zoomAndPan="magnify"><defs><filter height="300%" id="f177hr8jtyo7wj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f177hr8jtyo7wj)" height="389.8984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="59" y="96.2188"/><rect fill="#FFFFFF" filter="url(#f177hr8jtyo7wj)" height="215.625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="198" y="118.5703"/><rect fill="#FFFFFF" filter="url(#f177hr8jtyo7wj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="370" y="148.9219"/><rect fill="#FFFFFF" filter="url(#f177hr8jtyo7wj)" height="94.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="370" y="209.2734"/><rect fill="#FFFFFF" filter="url(#f177hr8jtyo7wj)" height="121.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="513" y="364.5469"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="64" x2="64" y1="86.2188" y2="504.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="203" x2="203" y1="86.2188" y2="504.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="374.5" x2="374.5" y1="86.2188" y2="504.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="518" x2="518" y1="259.3828" y2="504.1172"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="645" x2="645" y1="428.1563" y2="504.1172"/><rect fill="#FEFECE" filter="url(#f177hr8jtyo7wj)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="114" x="5" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="12" y="53.5332">&lt;&lt;application&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="23" y="71.1426">XXController</text><rect fill="#FEFECE" filter="url(#f177hr8jtyo7wj)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="136" x="133" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="148.5" y="53.5332">&lt;&lt;persistence&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="140" y="71.1426">PersistanceContext</text><rect fill="#FEFECE" filter="url(#f177hr8jtyo7wj)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="119" x="313.5" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="320.5" y="53.5332">&lt;&lt;persistence&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="335" y="71.1426">AppSettings</text><rect fill="#FFFFFF" filter="url(#f177hr8jtyo7wj)" height="389.8984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="59" y="96.2188"/><rect fill="#FFFFFF" filter="url(#f177hr8jtyo7wj)" height="215.625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="198" y="118.5703"/><rect fill="#FFFFFF" filter="url(#f177hr8jtyo7wj)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="370" y="148.9219"/><rect fill="#FFFFFF" filter="url(#f177hr8jtyo7wj)" height="94.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="370" y="209.2734"/><rect fill="#FFFFFF" filter="url(#f177hr8jtyo7wj)" height="121.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="513" y="364.5469"/><polygon fill="#A80036" points="186,114.5703,196,118.5703,186,122.5703,190,118.5703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="69" x2="192" y1="118.5703" y2="118.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="76" y="113.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="87" y="113.7139">repositories()</text><polygon fill="#A80036" points="358,144.9219,368,148.9219,358,152.9219,362,148.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="208" x2="364" y1="148.9219" y2="148.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="215" y="144.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="226" y="144.0654">instance()</text><polygon fill="#A80036" points="358,205.2734,368,209.2734,358,213.2734,362,209.2734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="208" x2="364" y1="209.2734" y2="209.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="215" y="204.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="226" y="204.417">getRepositoryFactory()</text><polygon fill="#A80036" points="439,235.625,449,239.625,439,243.625,443,239.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="380" x2="445" y1="239.625" y2="239.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="387" y="234.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="398" y="234.7686">create</text><rect fill="#FEFECE" filter="url(#f177hr8jtyo7wj)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="451" y="217.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="478.5" y="238.8066">&lt;&lt;factory&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="458" y="256.416">RepositoryFactory</text><polygon fill="#A80036" points="219,299.8438,209,303.8438,219,307.8438,215,303.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="213" x2="374" y1="303.8438" y2="303.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="225" y="298.9873">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="236" y="298.9873">factory</text><polygon fill="#A80036" points="80,330.1953,70,334.1953,80,338.1953,76,334.1953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="74" x2="202" y1="334.1953" y2="334.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="86" y="329.3389">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="97" y="329.3389">factory</text><polygon fill="#A80036" points="501,360.5469,511,364.5469,501,368.5469,505,364.5469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="69" x2="507" y1="364.5469" y2="364.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="76" y="359.6904">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="87" y="359.6904">XXs()</text><polygon fill="#A80036" points="583,390.8984,593,394.8984,583,398.8984,587,394.8984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="523" x2="589" y1="394.8984" y2="394.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="530" y="390.042">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="541" y="390.042">create</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="595" y="433.0801">&lt;&lt;repository&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="600.5" y="450.6895">XXRepository</text><path d="M627.5,382.5469 C627.5,372.5469 645.5,372.5469 645.5,372.5469 C645.5,372.5469 663.5,372.5469 663.5,382.5469 L663.5,408.5469 C663.5,418.5469 645.5,418.5469 645.5,418.5469 C645.5,418.5469 627.5,418.5469 627.5,408.5469 L627.5,382.5469 " fill="#FEFECE" filter="url(#f177hr8jtyo7wj)" style="stroke:#000000;stroke-width:1.5;"/><path d="M627.5,382.5469 C627.5,392.5469 645.5,392.5469 645.5,392.5469 C645.5,392.5469 663.5,392.5469 663.5,382.5469 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><polygon fill="#A80036" points="75,482.1172,65,486.1172,75,490.1172,71,486.1172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69" x2="517" y1="486.1172" y2="486.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="81" y="481.2607">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="92" y="481.2607">xxRepository</text><!--MD5=[c9387e8ace4919640080b9d542b5049b]
@startuml
autonumber
hide footbox

participant "<<application>>\nXXController" as CTRL
participant "<<persistence>>\nPersistanceContext" as PC
participant "<<persistence>>\nAppSettings" as AS
participant "<<factory>>\nRepositoryFactory" as RF
database "<<repository>>\nXXRepository" as R

activate CTRL

CTRL -> PC : repositories()
activate PC

PC -> AS : instance()
activate AS
deactivate AS

PC -> AS : getRepositoryFactory()
activate AS

AS -> RF** : create
AS - -> PC : factory
deactivate AS

PC - -> CTRL : factory
deactivate PC

CTRL -> RF : XXs()
activate RF

RF -> R** : create
RF - -> CTRL : xxRepository
deactivate RF

deactivate CTRL

@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>