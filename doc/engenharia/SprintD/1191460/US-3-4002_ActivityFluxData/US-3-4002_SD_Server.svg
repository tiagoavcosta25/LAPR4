<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1090px" preserveAspectRatio="none" style="width:1020px;height:1090px;" version="1.1" viewBox="0 0 1020 1090" width="1020px" zoomAndPan="magnify"><defs><filter height="300%" id="f3zgwsffgfnit" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.5"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.0" dy="5.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f3zgwsffgfnit)" height="911.9043" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="185" y="156.9141"/><rect fill="#FFFFFF" filter="url(#f3zgwsffgfnit)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="485" y="952.9395"/><rect fill="#FFFFFF" filter="url(#f3zgwsffgfnit)" height="35" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="667.5" y="427.6953"/><rect fill="#FFFFFF" filter="url(#f3zgwsffgfnit)" height="35" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="667.5" y="519.3848"/><rect fill="#FFFFFF" filter="url(#f3zgwsffgfnit)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="804.375" y="721.7871"/><rect fill="#FFFFFF" filter="url(#f3zgwsffgfnit)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="804.375" y="797.2266"/><rect fill="#FFFFFF" filter="url(#f3zgwsffgfnit)" height="343.2813" style="stroke:#000000;stroke-width:2.5;" width="699.375" x="94.375" y="229.8535"/><rect fill="#FFFFFF" height="266.1523" style="stroke:none;stroke-width:1.25;" width="699.375" x="94.375" y="306.9824"/><rect fill="#FFFFFF" filter="url(#f3zgwsffgfnit)" height="389.1602" style="stroke:#000000;stroke-width:2.5;" width="793.125" x="94.375" y="670.9082"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="190.625" x2="190.625" y1="96.0352" y2="1081.3184"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="491.25" x2="491.25" y1="897.3633" y2="1081.3184"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="673.75" x2="673.75" y1="362.1191" y2="1081.3184"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="810" x2="810" y1="634.5215" y2="1081.3184"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="947.5" x2="947.5" y1="96.0352" y2="1081.3184"/><rect fill="#FEFECE" filter="url(#f3zgwsffgfnit)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="163.75" x="106.875" y="28.2617"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="90" x="143.75" y="55.1782">&lt;&lt;server&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="146.25" x="115.625" y="77.1899">ActivityFlowEngine</text><rect fill="#FEFECE" filter="url(#f3zgwsffgfnit)" height="83.5352" style="stroke:#A80036;stroke-width:1.875;" width="115" x="887.5" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="97.5" x="896.25" y="33.1665">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="60" x="915" y="55.1782">cliSock:</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="53.75" x="918.125" y="77.1899">Socket</text><rect fill="#FFFFFF" filter="url(#f3zgwsffgfnit)" height="911.9043" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="185" y="156.9141"/><rect fill="#FFFFFF" filter="url(#f3zgwsffgfnit)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="485" y="952.9395"/><rect fill="#FFFFFF" filter="url(#f3zgwsffgfnit)" height="35" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="667.5" y="427.6953"/><rect fill="#FFFFFF" filter="url(#f3zgwsffgfnit)" height="35" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="667.5" y="519.3848"/><rect fill="#FFFFFF" filter="url(#f3zgwsffgfnit)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="804.375" y="721.7871"/><rect fill="#FFFFFF" filter="url(#f3zgwsffgfnit)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="804.375" y="797.2266"/><ellipse cx="9.375" cy="155.9766" rx="5" ry="5" style="stroke:#A80036;stroke-width:1.875;fill:none;"/><polygon fill="#A80036" points="170,151.9141,182.5,156.9141,170,161.9141,175,156.9141" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="15" x2="177.5" y1="156.9141" y2="156.9141"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="18.75" y="140.6238">1</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="132.5" x="32.5" y="130.4041">initiates automatic</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="98.75" x="32.5" y="150.8435">task executor</text><line style="stroke:#A80036;stroke-width:1.25;" x1="197.5" x2="250" y1="194.8535" y2="194.8535"/><line style="stroke:#A80036;stroke-width:1.25;" x1="250" x2="250" y1="194.8535" y2="211.1035"/><line style="stroke:#A80036;stroke-width:1.25;" x1="198.75" x2="250" y1="211.1035" y2="211.1035"/><polygon fill="#A80036" points="211.25,206.1035,198.75,211.1035,211.25,216.1035,206.25,211.1035" style="stroke:#A80036;stroke-width:1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="206.25" y="188.783">2</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="140" x="220" y="188.783">start(port, blocking)</text><path d="M94.375,229.8535 L175.625,229.8535 L175.625,239.8535 L163.125,252.3535 L94.375,252.3535 L94.375,229.8535 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="343.2813" style="stroke:#000000;stroke-width:2.5;" width="699.375" x="94.375" y="229.8535"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="25" x="113.125" y="247.9724">opt</text><text fill="#000000" font-family="sans-serif" font-size="13.75" font-weight="bold" lengthAdjust="spacing" textLength="81.25" x="194.375" y="246.6272">[if blocking]</text><line style="stroke:#A80036;stroke-width:1.25;" x1="197.5" x2="250" y1="280.7324" y2="280.7324"/><line style="stroke:#A80036;stroke-width:1.25;" x1="250" x2="250" y1="280.7324" y2="296.9824"/><line style="stroke:#A80036;stroke-width:1.25;" x1="198.75" x2="250" y1="296.9824" y2="296.9824"/><polygon fill="#A80036" points="211.25,291.9824,198.75,296.9824,211.25,301.9824,206.25,296.9824" style="stroke:#A80036;stroke-width:1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="206.25" y="274.6619">3</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="76.25" x="220" y="274.6619">listen(port)</text><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="94.375" x2="793.75" y1="308.2324" y2="308.2324"/><polygon fill="#A80036" points="598.75,332.4219,611.25,337.4219,598.75,342.4219,603.75,337.4219" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="197.5" x2="606.25" y1="337.4219" y2="337.4219"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="206.25" y="331.3513">4</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="55" x="220" y="331.3513">create()</text><rect fill="#FEFECE" filter="url(#f3zgwsffgfnit)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="115" x="613.75" y="309.4824"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="97.5" x="622.5" y="336.3989">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="51.25" x="645.625" y="358.4106">Thead</text><line style="stroke:#A80036;stroke-width:1.25;" x1="680" x2="732.5" y1="417.6953" y2="417.6953"/><line style="stroke:#A80036;stroke-width:1.25;" x1="732.5" x2="732.5" y1="417.6953" y2="433.9453"/><line style="stroke:#A80036;stroke-width:1.25;" x1="681.25" x2="732.5" y1="433.9453" y2="433.9453"/><polygon fill="#A80036" points="693.75,428.9453,681.25,433.9453,693.75,438.9453,688.75,433.9453" style="stroke:#A80036;stroke-width:1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="688.75" y="411.6248">5</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="76.25" x="702.5" y="411.6248">listen(port)</text><line style="stroke:#A80036;stroke-width:1.25;" x1="680" x2="732.5" y1="509.3848" y2="509.3848"/><line style="stroke:#A80036;stroke-width:1.25;" x1="732.5" x2="732.5" y1="509.3848" y2="525.6348"/><line style="stroke:#A80036;stroke-width:1.25;" x1="681.25" x2="732.5" y1="525.6348" y2="525.6348"/><polygon fill="#A80036" points="693.75,520.6348,681.25,525.6348,693.75,530.6348,688.75,525.6348" style="stroke:#A80036;stroke-width:1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="688.75" y="503.3142">6</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="42.5" x="702.5" y="503.3142">start()</text><polygon fill="#A80036" points="731.25,604.8242,743.75,609.8242,731.25,614.8242,736.25,609.8242" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="197.5" x2="738.75" y1="609.8242" y2="609.8242"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="206.25" y="603.7537">7</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="82.5" x="220" y="603.7537">create(port)</text><rect fill="#FEFECE" filter="url(#f3zgwsffgfnit)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="123.75" x="746.25" y="581.8848"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="97.5" x="759.375" y="608.8013">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="106.25" x="755" y="630.813">ServerSocket</text><path d="M94.375,670.9082 L185.625,670.9082 L185.625,680.9082 L173.125,693.4082 L94.375,693.4082 L94.375,670.9082 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="389.1602" style="stroke:#000000;stroke-width:2.5;" width="793.125" x="94.375" y="670.9082"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="35" x="113.125" y="689.0271">loop</text><text fill="#000000" font-family="sans-serif" font-size="13.75" font-weight="bold" lengthAdjust="spacing" textLength="293.75" x="204.375" y="687.6819">[every time the server receives a request]</text><polygon fill="#A80036" points="789.375,716.7871,801.875,721.7871,789.375,726.7871,794.375,721.7871" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="197.5" x2="796.875" y1="721.7871" y2="721.7871"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="206.25" y="715.7166">8</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="155" x="220" y="715.7166">clientSock = accept()</text><polygon fill="#A80036" points="789.375,792.2266,801.875,797.2266,789.375,802.2266,794.375,797.2266" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="197.5" x2="796.875" y1="797.2266" y2="797.2266"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="206.25" y="791.156">9</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="192.5" x="220" y="791.156">clientIP = getInetAddress()</text><polygon fill="#A80036" points="366.25,867.666,378.75,872.666,366.25,877.666,371.25,872.666" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="197.5" x2="373.75" y1="872.666" y2="872.666"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="206.25" y="866.5955">10</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="131.25" x="228.75" y="866.5955">create(clientSock)</text><rect fill="#FEFECE" filter="url(#f3zgwsffgfnit)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="215" x="381.25" y="844.7266"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="91.25" x="443.125" y="871.6431">&lt;&lt;thread&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="197.5" x="390" y="893.6548">ActivityFlowClientHandler</text><polygon fill="#A80036" points="470,947.9395,482.5,952.9395,470,957.9395,475,952.9395" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="197.5" x2="477.5" y1="952.9395" y2="952.9395"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="206.25" y="946.8689">11</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="42.5" x="228.75" y="946.8689">start()</text><rect fill="#FFFFFF" filter="url(#f3zgwsffgfnit)" height="53.3789" style="stroke:#000000;stroke-width:2.5;" width="222.5" x="377.5" y="1000.4395"/><polygon fill="#EEEEEE" points="377.5,1000.4395,455,1000.4395,455,1010.4395,442.5,1022.9395,377.5,1022.9395,377.5,1000.4395" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="21.25" x="393.75" y="1019.8083">ref</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="91.25" x="445.625" y="1044.8083">SD_Request</text><!--MD5=[ad22682c3bade5c45d45623e7ff30d99]
@startuml
autonumber
hide footbox

participant "<<server>>\nActivityFlowEngine" as SRV
participant "<<thread>>\nActivityFlowClientHandler" as RQ
participant "<<domain>>\nThead" as T
participant "<<domain>>\nServerSocket" as SS
participant "<<domain>>\ncliSock:\nSocket" as S

[o-> SRV : initiates automatic \ntask executor

activate SRV

SRV -> SRV : start(port, blocking)

opt if blocking
SRV -> SRV : listen(port)
else
SRV -> T**: create()

T -> T : listen(port)
activate T
deactivate T
T -> T : start()
activate T 
deactivate T
end opt

SRV -> SS** : create(port)

loop every time the server receives a request

SRV -> SS : clientSock = accept()
activate SS
deactivate SS

SRV -> SS: clientIP = getInetAddress()
activate SS
deactivate SS

SRV -> RQ** : create(clientSock)

SRV -> RQ : start()
activate RQ

ref over RQ
    SD_Request
end ref

deactivate RQ

end

deactivate SRV

@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>