<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="571.25px" preserveAspectRatio="none" style="width:563px;height:571px;background:#FFFFFF;" version="1.1" viewBox="0 0 563 571" width="563.75px" zoomAndPan="magnify"><defs><filter height="300%" id="fn9opw1az94sr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.5"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.0" dy="5.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fn9opw1az94sr)" height="394.4824" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="152.5" y="156.9141"/><rect fill="#FFFFFF" filter="url(#fn9opw1az94sr)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="485.625" y="427.207"/><rect fill="#FFFFFF" filter="url(#fn9opw1az94sr)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="485.625" y="502.6465"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="158.125" x2="158.125" y1="96.0352" y2="562.6465"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="334.375" x2="334.375" y1="96.0352" y2="562.6465"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="491.875" x2="491.875" y1="322.6855" y2="562.6465"/><rect fill="#FEFECE" filter="url(#fn9opw1az94sr)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="153.75" x="79.375" y="28.2617"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="90" x="111.25" y="55.1782">&lt;&lt;server&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="136.25" x="88.125" y="77.1899">ActivityFlowClient</text><rect fill="#FEFECE" filter="url(#fn9opw1az94sr)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="163.75" x="250.625" y="28.2617"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="18.75" x="323.125" y="55.1782">sf:</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="146.25" x="259.375" y="77.1899">SSLSocketFactory</text><rect fill="#FFFFFF" filter="url(#fn9opw1az94sr)" height="394.4824" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="152.5" y="156.9141"/><rect fill="#FFFFFF" filter="url(#fn9opw1az94sr)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="485.625" y="427.207"/><rect fill="#FFFFFF" filter="url(#fn9opw1az94sr)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="485.625" y="502.6465"/><ellipse cx="9.375" cy="155.9766" rx="5" ry="5" style="stroke:#A80036;stroke-width:1.875;fill:none;"/><polygon fill="#A80036" points="137.5,151.9141,150,156.9141,137.5,161.9141,142.5,156.9141" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="15" x2="145" y1="156.9141" y2="156.9141"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="18.75" y="140.6238">1</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="100" x="32.5" y="130.4041">initiates client</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="0" x="37.5" y="150.8435"/><line style="stroke:#A80036;stroke-width:1.25;" x1="165" x2="217.5" y1="194.8535" y2="194.8535"/><line style="stroke:#A80036;stroke-width:1.25;" x1="217.5" x2="217.5" y1="194.8535" y2="211.1035"/><line style="stroke:#A80036;stroke-width:1.25;" x1="166.25" x2="217.5" y1="211.1035" y2="211.1035"/><polygon fill="#A80036" points="178.75,206.1035,166.25,211.1035,178.75,216.1035,173.75,211.1035" style="stroke:#A80036;stroke-width:1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="173.75" y="188.783">2</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="123.75" x="187.5" y="188.783">startConnection()</text><polygon fill="#A80036" points="320,244.043,332.5,249.043,320,254.043,325,249.043" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="165" x2="327.5" y1="249.043" y2="249.043"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="173.75" y="242.9724">3</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="115" x="187.5" y="242.9724">sf = getDefault()</text><polygon fill="#A80036" points="416.875,281.9824,429.375,286.9824,416.875,291.9824,421.875,286.9824" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="165" x2="424.375" y1="286.9824" y2="286.9824"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="173.75" y="280.9119">4</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="161.25" x="187.5" y="280.9119">create(ip, TCP_PORT)</text><rect fill="#FEFECE" filter="url(#fn9opw1az94sr)" height="83.5352" style="stroke:#A80036;stroke-width:1.875;" width="115" x="431.875" y="259.043"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="97.5" x="440.625" y="285.9595">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="85" x="446.875" y="307.9712">clientSock:</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="86.25" x="446.25" y="329.9829">SSLSocket</text><polygon fill="#A80036" points="476.875,384.2676,489.375,389.2676,476.875,394.2676,481.875,389.2676" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="165" x2="484.375" y1="389.2676" y2="389.2676"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="173.75" y="383.197">5</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="123.75" x="187.5" y="383.197">startHandshake()</text><polygon fill="#A80036" points="470.625,422.207,483.125,427.207,470.625,432.207,475.625,427.207" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="165" x2="478.125" y1="427.207" y2="427.207"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="173.75" y="421.1365">6</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="133.75" x="187.5" y="421.1365">getOutputStream()</text><polygon fill="#A80036" points="470.625,497.6465,483.125,502.6465,470.625,507.6465,475.625,502.6465" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="165" x2="478.125" y1="502.6465" y2="502.6465"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="173.75" y="496.5759">7</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="152.5" x="187.5" y="496.5759">in = getInputStream()</text><!--MD5=[58b8700547d8e5c326e6f3fc7f28be72]
@startuml
autonumber
hide footbox

participant "<<server>>\nActivityFlowClient" as CLI
participant "sf:\nSSLSocketFactory" as sf
participant "<<domain>>\nclientSock:\nSSLSocket" as S


[o-> CLI : initiates client \n

activate CLI

CLI -> CLI : startConnection()

CLI -> sf : sf = getDefault()

CLI -> S** : create(ip, TCP_PORT)

CLI -> S :startHandshake()

CLI -> S : getOutputStream()

activate S
deactivate S

CLI -> S : in = getInputStream()
activate S
deactivate S

@enduml

PlantUML version 1.2021.7(Sun May 23 13:40:07 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>